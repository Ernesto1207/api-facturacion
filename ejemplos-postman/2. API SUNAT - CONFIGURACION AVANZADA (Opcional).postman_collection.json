{
	"info": {
		"_postman_id": "39e74e92-46b5-499c-b08c-6554798b6f95",
		"name": "2. API SUNAT - CONFIGURACION AVANZADA (Opcional)",
		"description": "Ejemplos completos para probar las configuraciones de empresa en el sistema de facturación SUNAT.\n\n**Configuraciones disponibles:**\n- tax_settings (Impuestos)\n- invoice_settings (Facturación)\n- gre_settings (Guías de Remisión)\n- document_settings (Documentos)\n\n**Variables requeridas:**\n- base_url: URL base de la API\n- company_id: ID de la empresa\n- token: Bearer token de autenticación",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "20633485"
	},
	"item": [
		{
			"name": "📊 TAX SETTINGS - Configuración de Impuestos",
			"item": [
				{
					"name": "🔍 Obtener tax_settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/tax_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"tax_settings"
							]
						},
						"description": "Obtiene la configuración actual de impuestos para la empresa"
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar tax_settings - Configuración Estándar Perú",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"igv_porcentaje\": 18,\n  \"icbper_monto\": 0.5,\n  \"isc_porcentaje\": 0,\n  \"ivap_porcentaje\": 4,\n  \"decimales_cantidad\": 10,\n  \"decimales_precio_unitario\": 2,\n  \"redondeo_automatico\": true,\n  \"validar_ruc_cliente\": true,\n  \"permitir_precio_cero\": false,\n  \"incluir_leyenda_monto\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/tax_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"tax_settings"
							]
						},
						"description": "Actualiza la configuración de impuestos con valores estándar para Perú"
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar tax_settings - Configuración Testing",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"igv_porcentaje\": 10,\n  \"icbper_monto\": 0.3,\n  \"decimales_precio_unitario\": 4,\n  \"decimales_cantidad\": 6,\n  \"validar_ruc_cliente\": false,\n  \"permitir_precio_cero\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/tax_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"tax_settings"
							]
						},
						"description": "Configuración de impuestos para ambiente de testing"
					},
					"response": []
				}
			]
		},
		{
			"name": "🧾 INVOICE SETTINGS - Configuración de Facturación",
			"item": [
				{
					"name": "🔍 Obtener invoice_settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/invoice_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"invoice_settings"
							]
						}
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar invoice_settings - Configuración Producción",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ubl_version\": \"2.1\",\n  \"formato_numero\": \"F001-########\",\n  \"moneda_default\": \"PEN\",\n  \"tipo_operacion_default\": \"0101\",\n  \"incluir_leyendas_automaticas\": true,\n  \"envio_automatico\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/invoice_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"invoice_settings"
							]
						},
						"description": "Configuración para ambiente de producción con envío automático habilitado"
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar invoice_settings - Configuración Testing",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ubl_version\": \"2.1\",\n  \"formato_numero\": \"T001-########\",\n  \"moneda_default\": \"PEN\",\n  \"tipo_operacion_default\": \"0101\",\n  \"incluir_leyendas_automaticas\": true,\n  \"envio_automatico\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/invoice_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"invoice_settings"
							]
						},
						"description": "Configuración para testing sin envío automático"
					},
					"response": []
				}
			]
		},
		{
			"name": "🚛 GRE SETTINGS - Configuración de Guías de Remisión",
			"item": [
				{
					"name": "🔍 Obtener gre_settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/gre_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"gre_settings"
							]
						}
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar gre_settings - Transporte Público",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"peso_default_kg\": 5.0,\n  \"bultos_default\": 2,\n  \"modalidad_transporte_default\": \"01\",\n  \"motivo_traslado_default\": \"01\",\n  \"verificacion_automatica\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/gre_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"gre_settings"
							]
						},
						"description": "Configuración para transporte público con venta"
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar gre_settings - Transporte Privado",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"peso_default_kg\": 25.0,\n  \"bultos_default\": 10,\n  \"modalidad_transporte_default\": \"02\",\n  \"motivo_traslado_default\": \"03\",\n  \"verificacion_automatica\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/gre_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"gre_settings"
							]
						},
						"description": "Configuración para transporte privado por traspaso entre establecimientos"
					},
					"response": []
				}
			]
		},
		{
			"name": "📄 DOCUMENT SETTINGS - Configuración de Documentos",
			"item": [
				{
					"name": "🔍 Obtener document_settings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/document_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"document_settings"
							]
						}
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar document_settings - Configuración Completa",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"generar_xml_automatico\": true,\n  \"generar_pdf_automatico\": true,\n  \"enviar_sunat_automatico\": false,\n  \"formato_pdf_default\": \"a4\",\n  \"orientacion_pdf_default\": \"portrait\",\n  \"incluir_qr_pdf\": true,\n  \"incluir_hash_pdf\": true,\n  \"logo_en_pdf\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/document_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"document_settings"
							]
						},
						"description": "Configuración completa de documentos con todos los elementos habilitados"
					},
					"response": []
				},
				{
					"name": "✏️ Actualizar document_settings - Solo XML",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"generar_xml_automatico\": true,\n  \"generar_pdf_automatico\": false,\n  \"enviar_sunat_automatico\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/document_settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"document_settings"
							]
						},
						"description": "Solo generar XML y enviar a SUNAT, sin PDF"
					},
					"response": []
				}
			]
		},
		{
			"name": "🔄 OPERACIONES GENERALES",
			"item": [
				{
					"name": "📋 Obtener Todas las Configuraciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config"
							]
						},
						"description": "Obtiene la configuración completa de la empresa"
					},
					"response": []
				},
				{
					"name": "🔄 Reset tax_settings a Defecto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"section\": \"tax_settings\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/reset",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"reset"
							]
						},
						"description": "Resetea la configuración de impuestos a valores por defecto"
					},
					"response": []
				},
				{
					"name": "🔄 Reset TODAS las configuraciones",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/reset",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"reset"
							]
						},
						"description": "Resetea TODAS las configuraciones a valores por defecto"
					},
					"response": []
				},
				{
					"name": "🧹 Limpiar Cache de Configuración",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/cache",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"cache"
							]
						},
						"description": "Limpia el cache de configuraciones de la empresa"
					},
					"response": []
				},
				{
					"name": "✅ Validar Servicios SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/{{company_id}}/config/validate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"{{company_id}}",
								"config",
								"validate"
							]
						},
						"description": "Valida el estado de configuración de servicios SUNAT"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api/v1",
			"type": "string"
		},
		{
			"key": "company_id",
			"value": "1",
			"type": "string"
		},
		{
			"key": "token",
			"value": "your_bearer_token_here",
			"type": "string"
		}
	]
}